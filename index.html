<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lovers Quiz 游눘</title>

<style>
body {
    margin: 0;
    height: 100vh;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #fbc2eb, #a6c1ee);
    display: flex;
    justify-content: center;
    align-items: center;
}

.quiz-card {
    background: #fff;
    width: 90%;
    max-width: 420px;
    padding: 30px;
    border-radius: 25px;
    box-shadow: 0 25px 60px rgba(0,0,0,0.25);
    text-align: center;
}

h1 {
    color: #ff4d6d;
}

.hearts {
    font-size: 24px;
    margin: 10px 0;
}

.question {
    font-size: 18px;
    color: #333;
    margin: 20px 0;
}

button {
    width: 100%;
    padding: 12px;
    margin: 8px 0;
    border: none;
    border-radius: 30px;
    background: linear-gradient(135deg, #ff4d6d, #ff758f);
    color: white;
    font-size: 15px;
    cursor: pointer;
    transition: 0.3s;
}

button:hover {
    transform: scale(1.05);
}

input {
    width: 100%;
    padding: 12px;
    border-radius: 30px;
    border: 1px solid #ddd;
    text-align: center;
    font-size: 15px;
    margin-bottom: 10px;
}

.message {
    margin-top: 12px;
    font-weight: bold;
    color: #ff4d6d;
}
</style>
</head>

<body>

<!-- Sound Effects -->
<audio id="correctSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_3c3b1b1f59.mp3"></audio>
<audio id="wrongSound" src="https://cdn.pixabay.com/audio/2022/03/10/audio_5c7c08c7c1.mp3"></audio>

<div class="quiz-card" id="quiz">
    <h1>Lovers Quiz 游눘</h1>
    <h1>Good Luck Miss Jangalay 游눘</h1>
    <div class="hearts" id="lives"></div>
    <div class="question" id="question"></div>

    <div id="choices"></div>

    <div id="textBox" style="display:none;">
        <input type="text" id="textAnswer" placeholder="Type your answer 游눏">
        <button onclick="checkText()">Submit</button>
    </div>

    <div class="message" id="message"></div>
</div>

<script>
/* ===================== QUESTIONS ===================== */
let questions = [
{
    type: "choice",
    question: "What is my Full Name?",
    answer: "A",
    choices: {
        A: "Ni침o Michael Gimena Saragena",
        B: "Ni침o Michael Gimenez Saragena",
        C: "Ni침o Michael Gibara Saragena",
        D: "Ni침o Michael Gevera Saragena"
    }
},
{
    type: "text",
    question: "When is my Birthday? (Ex: January 01, 2005)",
    answer: "march 07, 2004"
},
{
    type: "choice",
    question: "What is my nickname?",
    answer: "C",
    choices: {
        A: "Mike",
        B: "Nino",
        C: "Kel",
        D: "Migz"
    }
},
{
    type: "choice",
    question: "What is my favorite color?",
    answer: "B",
    choices: {
        A: "Red",
        B: "Yellow",
        C: "Blue",
        D: "Green"
    }
},
{
    type: "choice",
    question: "What is my favorite pet?",
    answer: "D",
    choices: {
        A: "Dog",
        B: "Bird",
        C: "Fish",
        D: "Cat"
    }
},
{
    type: "choice",
    question: "What is my hobby?",
    answer: "A",
    choices: {
        A: "Playing Guitar",
        B: "Gaming",
        C: "Cycling",
        D: "Drawing"
    }
},
{
    type: "text",
    question: "Who is the woman I love? (Complete name)",
    answer: "isabel Asio jangalay"
}
];

/* ===================== VARIABLES ===================== */
let index = 0;
let lives = 3;

const correctSound = document.getElementById("correctSound");
const wrongSound = document.getElementById("wrongSound");

let audioUnlocked = false;

/* ===================== AUDIO UNLOCK ===================== */
function unlockAudio() {
    if (!audioUnlocked) {
        correctSound.play().then(() => {
            correctSound.pause();
            correctSound.currentTime = 0;
        });
        wrongSound.play().then(() => {
            wrongSound.pause();
            wrongSound.currentTime = 0;
        });
        audioUnlocked = true;
        document.removeEventListener("click", unlockAudio);
    }
}
document.addEventListener("click", unlockAudio);

/* ===================== FUNCTIONS ===================== */
function updateLives() {
    document.getElementById("lives").innerHTML = "仇벒잺".repeat(lives);
}

function loadQuestion() {
    lives = 3; // RESET lives per question
    updateLives();
    document.getElementById("message").innerText = "";

    let q = questions[index];
    document.getElementById("question").innerText = q.question;
    document.getElementById("choices").innerHTML = "";
    document.getElementById("textBox").style.display = "none";

    if (q.type === "choice") {
        for (let key in q.choices) {
            let btn = document.createElement("button");
            btn.innerText = `${key}. ${q.choices[key]}`;
            btn.onclick = () => checkChoice(key);
            document.getElementById("choices").appendChild(btn);
        }
    } else {
        document.getElementById("textBox").style.display = "block";
        document.getElementById("textAnswer").value = "";
    }
}

function loseLife() {
    lives--;
    wrongSound.currentTime = 0;
    wrongSound.play();
    updateLives();
    document.getElementById("message").innerText = "Wrong 游눖 Try again";

    if (lives === 0) {
        document.getElementById("quiz").innerHTML = `
            <h1 style="color:#ff4d6d;">Out of Hearts 游눖</h1>
            <p>Try the same question again</p>
            <button onclick="retryQuestion()">Try Again 游</button>
        `;
    }
}

function retryQuestion() {
    document.getElementById("quiz").innerHTML = `
        <h1>Lovers Quiz 游눘</h1>
        <div class="hearts" id="lives"></div>
        <div class="question" id="question"></div>
        <div id="choices"></div>
        <div id="textBox" style="display:none;">
            <input type="text" id="textAnswer" placeholder="Type your answer 游눏">
            <button onclick="checkText()">Submit</button>
        </div>
        <div class="message" id="message"></div>
    `;
    loadQuestion();
}

function nextQuestion() {
    correctSound.currentTime = 0;
    correctSound.play();
    document.getElementById("message").innerText = "Correct 游눘";

    setTimeout(() => {
        index++;
        if (index === questions.length) {
            document.body.innerHTML = `
                <h1 style="color:white;text-align:center;">
                游눘 YOU WIN 游눘<br>
                True love remembers everything 游눐
                </h1>`;
        } else {
            loadQuestion();
        }
    }, 700);
}

function checkChoice(choice) {
    choice === questions[index].answer ? nextQuestion() : loseLife();
}

function checkText() {
    let input = document.getElementById("textAnswer").value.toLowerCase().trim();
    input === questions[index].answer ? nextQuestion() : loseLife();
}

/* ===================== START ===================== */
loadQuestion();
</script>

</body>
</html>
