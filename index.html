<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lovers Quiz üíñ</title>
<style>
body {
    margin: 0;
    height: 100vh;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #fbc2eb, #a6c1ee);
    display: flex;
    justify-content: center;
    align-items: center;
}
.quiz-card {
    background: #fff;
    width: 90%;
    max-width: 420px;
    padding: 30px;
    border-radius: 25px;
    box-shadow: 0 25px 60px rgba(0,0,0,0.25);
    text-align: center;
    max-height: 90vh;
    overflow-y: auto;
}
h1 { color: #ff4d6d; }
.question { font-size: 18px; color: #333; margin: 20px 0; }
button {
    width: 100%;
    padding: 12px;
    margin: 8px 0;
    border: none;
    border-radius: 30px;
    background: linear-gradient(135deg, #ff4d6d, #ff758f);
    color: white;
    font-size: 15px;
    cursor: pointer;
    transition: 0.3s;
}
button:hover { transform: scale(1.05); }
input {
    width: 100%;
    padding: 12px;
    border-radius: 30px;
    border: 1px solid #ddd;
    text-align: center;
    font-size: 15px;
    margin-bottom: 10px;
}
.volume { margin-top: 10px; font-size: 13px; }

.result-list {
    text-align: left;
    margin-top: 15px;
    font-size: 14px;
}
.result-list h3 {
    margin-bottom: 5px;
}
.correct { color: green; }
.wrong { color: red; }
</style>
</head>
<body>

<div id="quizContainer"></div>

<script>
const quizData = [
    { type:"choice", question:"What is my Full Name?", answer:"A",
      choices:{A:"Ni√±o Michael Gimena Saragena", B:"Ni√±o Michael Gimenez Saragena", C:"Ni√±o Michael Gibara Saragena", D:"Ni√±o Michael Gevera Saragena"} },

    { type:"text", question:"When is my Birthday?", answer:"march 07, 2004" },

    { type:"choice", question:"What is my nickname?", answer:"C",
      choices:{A:"Mike", B:"Nino", C:"Kel", D:"Migz"} },

    { type:"choice", question:"What is my favorite color?", answer:"B",
      choices:{A:"Red", B:"Yellow", C:"Blue", D:"Green"} },

    { type:"choice", question:"What is my favorite pet?", answer:"D",
      choices:{A:"Dog", B:"Bird", C:"Fish", D:"Cat"} },

    { type:"choice", question:"What is my hobby?", answer:"A",
      choices:{A:"Playing Guitar", B:"Gaming", C:"Cycling", D:"Drawing"} },

    { type:"text", question:"Who is the woman I love?", answer:"isabel asio jangalay" }
];

let currentIndex = 0;
let score = 0;
let results = []; // ‚úÖ store correct/wrong
let correctSound, wrongSound;

function createQuizHTML() {
    document.getElementById("quizContainer").innerHTML = `
        <div class="quiz-card">
            <h1>Lovers Quiz üíñ</h1>
            <h3>Goodluck Miss Jangalay üíñ</h3>

            <div class="question" id="question"></div>
            <div id="choices"></div>

            <div id="textBox" style="display:none;">
                <input type="text" id="textAnswer" placeholder="Type your answer üíå">
                <button onclick="checkText()">Submit</button>
            </div>

            <div class="volume">
                üîä Volume
                <input type="range" min="0" max="1" step="0.05"
                       value="0.6" oninput="setVolume(this.value)">
            </div>

            <audio id="correctSound"
              src="https://cdn.pixabay.com/audio/2022/03/15/audio_3c3b1b1f59.mp3"></audio>
            <audio id="wrongSound"
              src="https://cdn.pixabay.com/audio/2022/03/10/audio_5c7c08c7c1.mp3"></audio>
        </div>
    `;

    correctSound = document.getElementById("correctSound");
    wrongSound = document.getElementById("wrongSound");

    loadQuestion();
}

function setVolume(v){
    correctSound.volume = wrongSound.volume = v;
}

function loadQuestion(){
    const q = quizData[currentIndex];
    document.getElementById("question").innerText = q.question;
    document.getElementById("choices").innerHTML = "";
    document.getElementById("textBox").style.display =
        q.type === "text" ? "block" : "none";

    if(q.type === "choice"){
        for(let key in q.choices){
            const btn = document.createElement("button");
            btn.innerText = `${key}. ${q.choices[key]}`;
            btn.onclick = () => checkChoice(key);
            document.getElementById("choices").appendChild(btn);
        }
    } else {
        document.getElementById("textAnswer").value = "";
    }
}

function nextQuestion(){
    currentIndex++;
    if(currentIndex >= quizData.length){
        showFinalChoiceScreen();
    } else {
        loadQuestion();
    }
}

function recordResult(isCorrect){
    results.push({
        question: quizData[currentIndex].question,
        correct: isCorrect
    });
}

function checkChoice(choice){
    const isCorrect = choice === quizData[currentIndex].answer;
    if(isCorrect){
        score++;
        correctSound.play();
    } else {
        wrongSound.play();
    }
    recordResult(isCorrect);
    nextQuestion();
}

function checkText(){
    const input = document.getElementById("textAnswer").value.toLowerCase().trim();
    const isCorrect = input === quizData[currentIndex].answer;
    if(isCorrect){
        score++;
        correctSound.play();
    } else {
        wrongSound.play();
    }
    recordResult(isCorrect);
    nextQuestion();
}

// üíç YES / NO SCREEN
function showFinalChoiceScreen(){
    document.getElementById("quizContainer").innerHTML = `
        <div class="quiz-card">
            <h1>üíç Will you be mine forever? üíñ</h1>
            <button onclick="finalAnswer(true)">Yes üíñ</button>
            <button onclick="finalAnswer(false)">No üò¢</button>
        </div>
    `;
}

// ‚≠ê FINAL RESULT
function finalAnswer(isYes){
    const passed = score >= 5;

    let correctList = "";
    let wrongList = "";

    results.forEach(r => {
        if(r.correct) correctList += `<li class="correct">‚úÖ ${r.question}</li>`;
        else wrongList += `<li class="wrong">‚ùå ${r.question}</li>`;
    });

    document.getElementById("quizContainer").innerHTML = `
        <div class="quiz-card">
            <h1>${isYes && passed ? "We'll be together üíñ" : isYes ? "You tried üòî" : "üò¢"}</h1>

            <p><strong>Final Score:</strong> ${score} / ${quizData.length}</p>
            <p>${passed ? "‚úÖ Passed" : "‚ùå Failed (Passing score is 5)"}</p>

            <div class="result-list">
                <h3>Correct Answers</h3>
                <ul>${correctList || "<li>None</li>"}</ul>

                <h3>Wrong Answers</h3>
                <ul>${wrongList || "<li>None</li>"}</ul>
            </div>
        </div>
    `;
}

// START QUIZ
createQuizHTML();
setVolume(0.6);
</script>
</body>
</html>
